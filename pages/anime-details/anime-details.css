/* === المتغيرات والثيم === */
:root {
  --bg-color:#050010;
  --text-color:#ffffff;
  --accent-color:#00f0ff;
  --navbar-bg:rgba(10,0,30,0.92);
  --glass-bg:rgba(0,240,255,0.03);
  --glass-border:rgba(0,240,255,0.15);
  --shadow-color:rgba(0,240,255,0.4);
  --text-secondary:#8bf8ff;
  --gradient:linear-gradient(135deg,#00f0ff,#c158dc);
}

.theme-purple {
  --bg-color:#0d0225;
  --text-color:#ffffff;
  --accent-color:#7f5af0;
  --navbar-bg:rgba(28,0,65,0.88);
  --glass-bg:rgba(255,255,255,0.04);
  --glass-border:rgba(255,255,255,0.18);
  --shadow-color:rgba(127,90,240,0.55);
  --text-secondary:#b8a3ff;
  --gradient:linear-gradient(135deg,#a78bfa,#7f5af0,#6c2bd9);
}

/* === أساسي === */
* { margin:0; padding:0; box-sizing:border-box; }
body {
  font-family:"Cairo",sans-serif;
  background:var(--bg-color);
  color:var(--text-color);
  direction:rtl;
  min-height:100vh;
}

.glass {
  background:var(--glass-bg);
  border-radius:16px;
  backdrop-filter:blur(12px);
  border:1px solid var(--glass-border);
  box-shadow:0 8px 32px rgba(0,0,0,0.15);
}

.glass-btn {
  background:var(--glass-bg);
  border:1px solid var(--glass-border);
  backdrop-filter:blur(10px);
  color:var(--accent-color);
  transition:.3s;
  cursor:pointer;
}
.glass-btn:hover {
  background:var(--accent-color);
  color:var(--text-color);
  transform:scale(1.05);
  box-shadow:0 4px 10px var(--shadow-color);
}

/* شاشة التحميل */
.loading-screen {
  position:fixed; inset:0;
  background:var(--bg-color);
  display:flex; justify-content:center; align-items:center;
  z-index:2000;
  opacity:1; transition:opacity .5s ease;
}
.loading-screen.hidden { opacity:0; pointer-events:none; }
.loader {
  width:50px; height:50px;
  border:5px solid var(--glass-border);
  border-top-color:var(--accent-color);
  border-radius:50%;
  animation:spin 1s linear infinite;
}
@keyframes spin { to { transform:rotate(360deg);} }

/* الحاوية الأساسية */
.container {
  max-width:950px;
  margin:80px auto 30px; /* هوامش مع افتراض وجود هيدر محمّل لاحقاً */
  padding:20px;
}

/* صورة الأنمي */
.poster {
  width:100%; max-width:350px;
  max-height:70vh; min-height:400px;
  object-fit:contain; object-position:center;
  border-radius:12px;
  box-shadow:0 8px 25px rgba(0,0,0,0.5);
  margin:0 auto 20px;
  display:block;
  background-color:var(--bg-color);
  border:2px solid var(--glass-border);
  padding:3px;
}

@media (max-width:992px){ .poster { max-width:65%; min-height:350px; } }
@media (max-width:768px){ .poster { max-width:65%; min-height:300px; max-height:60vh; } }
@media (max-width:576px){ .poster { max-width:50%; min-height:250px; max-height:50vh; } }
@media (max-width:400px){ .poster { max-width:50%; min-height:220px; } }

/* معلومات الأنمي */
.info-box { padding:20px; margin-bottom:20px; }
.info-box h1 {
  font-size:1.6rem; margin-bottom:15px;
  color:var(--accent-color); text-shadow:0 0 6px var(--shadow-color);
}

.status-box {
  display:flex; flex-wrap:wrap;
  gap:12px; margin-bottom:10px;
}
.status-item {
  padding:8px 14px; font-size:.95rem;
  display:flex; align-items:center; gap:6px;
  color:var(--text-color);
}
.status-item i { color:var(--accent-color); }

/* التصنيفات */
.genres {
  display:flex; flex-wrap:wrap;
  gap:10px; margin-top:12px;
}
.genres span {
  background:var(--glass-bg);
  padding:5px 12px; font-size:.85rem;
  border-radius:14px; color:var(--accent-color);
  border:1px solid var(--glass-border);
  transition:.3s;
}
.genres span:hover {
  background:var(--accent-color); color:var(--text-color);
  transform:scale(1.05);
}

/* الأزرار */
.action-buttons {
  display:flex; gap:12px; align-items:center;
  margin-top:15px; margin-bottom:15px; flex-wrap:wrap;
}
.watch-btn {
  background:var(--gradient);
  color:var(--text-color);
  padding:18px 28px; font-size:1rem;
  min-width:140px; border:none;
  border-radius:25px; cursor:pointer;
  box-shadow:0 0 12px var(--shadow-color);
  transition:.3s; font-weight:700;
}
.watch-btn:hover {
  box-shadow:0 0 20px var(--shadow-color);
  transform:scale(1.08);
}
.icon-btn {
  width:42px; height:42px; border-radius:50%;
  display:flex; align-items:center; justify-content:center;
  font-size:1.2rem; cursor:pointer;
}
.icon-btn.favorite:hover { color:#ff6b81; }
.icon-btn.watch-later:hover { color:#2ed573; }

@media (max-width:768px){
  .watch-btn { padding:16px 22px; font-size:.9rem; min-width:120px; }
}

/* التقييم */
.rating-box {
  padding:10px 15px;
  text-align:center;
  margin-bottom:20px;
  color:var(--accent-color);
  font-size:1.1rem;
  cursor:pointer;
}

/* القصة */
.description-box {
  padding:18px;
  border-radius:12px;
  line-height:1.7;
  font-size:1rem;
  color:var(--text-secondary);
  margin-bottom:30px;
}

/* التعليقات */
.comment-section {
  padding:15px;
  border-radius:10px;
  margin-bottom:30px;
}
.comment {
  background:var(--glass-bg);
  padding:10px;
  margin-bottom:10px;
  border-radius:8px;
  font-size:.95rem;
  line-height:1.6;
  border:1px solid var(--glass-border);
}
.comment strong { color:var(--accent-color); }
.comment-form {
  display:flex; flex-direction:column;
  gap:10px; margin-top:15px;
}
.comment-form textarea {
  resize:none; border-radius:10px;
  border:1px solid var(--glass-border);
  background:var(--glass-bg);
  color:var(--text-color);
  padding:10px;
  font-family:"Cairo",sans-serif;
}
.comment-form button { align-self:flex-start; padding:8px 16px; }
.comment-warning {
  margin-top:10px;
  color:#ffa07a;
  font-size:.9rem;
}

/* استجابة */
@media (max-width:768px){
  .container { padding:10px; }
  .info-box h1 { font-size:1.4rem; }
  .genres span { font-size:.8rem; }
  .rating-box { font-size:1rem; }
  .poster { max-height:220px; }
}
